USE [UnikktleWeb]
GO

IF NOT EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetRoleClaims_AspNetRoles_RoleId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetRoleClaims]'))
ALTER TABLE [dbo].[AspNetRoleClaims]  WITH CHECK ADD  CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY([RoleId])
REFERENCES [dbo].[AspNetRoles] ([Id])
ON DELETE CASCADE
GO

IF  EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetRoleClaims_AspNetRoles_RoleId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetRoleClaims]'))
ALTER TABLE [dbo].[AspNetRoleClaims] CHECK CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId]
GO


IF NOT EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserClaims_AspNetUsers_UserId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserClaims]'))
ALTER TABLE [dbo].[AspNetUserClaims]  WITH CHECK ADD  CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY([UserId])
REFERENCES [dbo].[AspNetUsers] ([Id])
ON DELETE CASCADE
GO
IF  EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserClaims_AspNetUsers_UserId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserClaims]'))
ALTER TABLE [dbo].[AspNetUserClaims] CHECK CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId]
GO
IF NOT EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserLogins_AspNetUsers_UserId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserLogins]'))
ALTER TABLE [dbo].[AspNetUserLogins]  WITH CHECK ADD  CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY([UserId])
REFERENCES [dbo].[AspNetUsers] ([Id])
ON DELETE CASCADE
GO
IF  EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserLogins_AspNetUsers_UserId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserLogins]'))
ALTER TABLE [dbo].[AspNetUserLogins] CHECK CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId]
GO
IF NOT EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserRoles_AspNetRoles_RoleId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserRoles]'))
ALTER TABLE [dbo].[AspNetUserRoles]  WITH CHECK ADD  CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY([RoleId])
REFERENCES [dbo].[AspNetRoles] ([Id])
ON DELETE CASCADE
GO
IF  EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserRoles_AspNetRoles_RoleId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserRoles]'))
ALTER TABLE [dbo].[AspNetUserRoles] CHECK CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId]
GO
IF NOT EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserRoles_AspNetUsers_UserId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserRoles]'))
ALTER TABLE [dbo].[AspNetUserRoles]  WITH CHECK ADD  CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY([UserId])
REFERENCES [dbo].[AspNetUsers] ([Id])
ON DELETE CASCADE
GO
IF  EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserRoles_AspNetUsers_UserId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserRoles]'))
ALTER TABLE [dbo].[AspNetUserRoles] CHECK CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId]
GO
IF NOT EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserTokens_AspNetUsers_UserId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserTokens]'))
ALTER TABLE [dbo].[AspNetUserTokens]  WITH CHECK ADD  CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY([UserId])
REFERENCES [dbo].[AspNetUsers] ([Id])
ON DELETE CASCADE
GO
IF  EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_AspNetUserTokens_AspNetUsers_UserId]') AND parent_object_id = OBJECT_ID(N'[dbo].[AspNetUserTokens]'))
ALTER TABLE [dbo].[AspNetUserTokens] CHECK CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId]
GO


/****** Object:  Statistic [PK_AspNetRoles]    Script Date: 2019/04/28 19:25:58 ******/
if  exists (select * from sys.stats where name = N'PK_AspNetRoles' and object_id = object_id(N'[dbo].[AspNetRoles]'))
UPDATE STATISTICS [dbo].[AspNetRoles]([PK_AspNetRoles]) WITH STATS_STREAM = 0x01000000010000000000000000000000802CDC930000000040000000000000000000000000000000E7030000E7000000840300000000000010D0000000000000, ROWCOUNT = 0, PAGECOUNT = 0
GO
/****** Object:  Statistic [RoleNameIndex]    Script Date: 2019/04/28 19:25:58 ******
if  exists (select * from sys.stats where name = N'RoleNameIndex' and object_id = object_id(N'[dbo].[AspNetRoles]'))
UPDATE STATISTICS [dbo].[AspNetRoles]([RoleNameIndex])
WHERE ([NormalizedName] IS NOT NULL)
 WITH STATS_STREAM = 0x010000000200000000000000000000000EB219520000000058000000000000000000000000000000E7020000E7000000000200000000000010D0000000000000E7030000E7000000840300000000000010D0000000000000, ROWCOUNT = 0, PAGECOUNT = 0
GO
****** Object:  Statistic [UserNameIndex]    Script Date: 2019/04/28 19:25:58 ******
if  exists (select * from sys.stats where name = N'UserNameIndex' and object_id = object_id(N'[dbo].[AspNetUsers]'))
UPDATE STATISTICS [dbo].[AspNetUsers]([UserNameIndex])
WHERE ([NormalizedUserName] IS NOT NULL)
 WITH STATS_STREAM = 0x010000000200000000000000000000007F8317F0000000008B020000000000003302000000000000E7020000E7000000000200000000000010D000001A020000E7030000E7000000840300000000000010D0000000000000070000006F672C013DAA000001000000000000000100000000000000000000000000803F0000803F00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000100000002000000100000000000EC420000803F00000000000038420000904200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000130400000000000000000000000000004D00000000000000AF00000000000000B700000000000000BF000000000000000800000000000000300010000000803F000000000000803F040000010045005300410054004F00550059004F0055004800450049002E004700400047004D00410049004C002E0043004F004D00FF0100000000000000010000000100000028000000280000000000000000000000170000005300410054004F00550059004F0055004800450049002E004700400047004D00410049004C002E0043004F004D0002000000400000000001170000000001000000000000000000000000000000, ROWCOUNT = 1, PAGECOUNT = 1
GO
****** Object:  Statistic [PK_AspNetUserTokens]    Script Date: 2019/04/28 19:25:58 ******
if  exists (select * from sys.stats where name = N'PK_AspNetUserTokens' and object_id = object_id(N'[dbo].[AspNetUserTokens]'))
UPDATE STATISTICS [dbo].[AspNetUserTokens]([PK_AspNetUserTokens]) WITH STATS_STREAM = 0x0100000003000000000000000000000030128B5B0000000070000000000000000000000000000000E7030000E7000000840300000000000010D0000000000000E7030000E7000000000100000000000010D0000000000000E7030000E7000000000100000000000010D0000000000000, ROWCOUNT = 0, PAGECOUNT = 0
GO

*/